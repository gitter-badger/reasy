# reasy 编译工具链后台安装与维护指导


## 关于Reasy

Reasy是Tenda UI组基于FIS3开发的一款前端工程化工具，主要用于解决产品归一化及前端工程化的问题。进而提高前端开发效率，降低前端维护成本。


## Reasy的安装

为了降低部署成本，设计Reasy时同时编写了工具链自动下载编译脚本，后台人员只需要Makefile里面调用这个脚本即可。脚本会自动检测当前编译环境是否安装了Reasy工具链，如果没有安装则会自动从SVN下载安装，并在安装完成后继续执行编译命令。
首先下载: <a href="https://raw.githubusercontent.com/wEasyTeam/reasy/master/production/reasy-make.sh">reasy-make.sh</a>


然后依次执行(如果不是root帐户请新建`/reasy`目录并设置为`777`)

    mkdir /reasy&&chmod 777 /reasy -R
    chmod 777 reasy-make.sh
    ./reasy-make.sh -v

如果网络畅通，此时便会自动下载reasy工具链，并在安装完成后显示Reasy LOGO和版本号。


## Makefile的编写

因为reasy会重新新成web代码，所以在后台执行web打包前需要先调用reasy-make.sh生成新的web目录。 建议将reasy-make.sh的调用放在编译最开始或复制web目录之前。

调用方法为:

    rm -rf {web目标目录}
    ./reasy-make.sh release {产品名} -r {web源码目录} -d {web目标目录} -c


**web目标目录**才是最终的web目录，如果没有产品名就留空不写。

如： 

```makefile

  rm -rf $(WEB_PATH)/*
  chmod 777 reasy-make.sh
  ./reasy-make.sh release product -r $(web_dir)/src -d $(WEB_PATH) -c

```

## Reasy的更新

Reasy的更新有两种方式：

* 一种是通过在web源码目录添加`update.txt`文件，然后执行编译操作即可。（注：如果要更新脚本本身，可以在web源码目录下添加`update-script.txt`）

* 另一种是执行`./reasy-make.sh -u`进行更新



## Reasy-SVN服务器更新

Reasy-SVN服务器更新，即更新(192.168.98.20)，这里首先需要确保你的Linux主机环境能够连接上Internet和98.20。

工具链可能需要定期升级，所以每过一段时间，应该对SVN服务器上的Reasy进行更新。

然后<a href="https://raw.githubusercontent.com/wEasyTeam/reasy/master/production/update_reasy.sh">下载该脚本</a>，添加可执行权限，直接执行`./update-reasy.sh`即可。




